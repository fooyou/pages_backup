<!DOCTYPE html>
<!-- <html class="fuelux" lang="en"> -->
<html class="fuelux" lang="en">
    <head>
        <meta charset="utf-8">
        <title>SPARQL 1.1概述</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="description" content="">
        <meta name="author" content="">
        <script src="/js/jquery.min.js" type="text/javascript"></script>
        <link href="/css/fuelux.css" rel="stylesheet" />
        <link href="/css/fuelux-responsive.css" rel="stylesheet" />
        <script src="/js/loader.min.js" type="text/javascript"></script>
        <link href="/css/style_midnight.css" rel="stylesheet">
        <link rel="shortcut icon" href="/favicon.ico">
    </head>
    <body data-spy="scroll" data-target=".subnav" data-offset="50">
        <div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <div class="container">
            <!--
            <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </a>
            -->
            <div class="row">
                <div class="span8 columns">
                    <a class="brand" href="http://fooyou.github.io">书亚博园</a>
                </div>
                <div class="span3 columns">
                    <a class="brand" href="http://fooyou.github.io/atom.xml">RSS</a>
                </div>
            </div>
            <!--
            <div class="nav-collapse">
                <ul class="nav">
                    <li class="">
                        <a href="http://fooyou.github.io"><i class="icon-home"></i> 主页</a>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-comment"></i> 社交 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li class=""><a href="http://www.linkedin.com/pub/joshua-liu/8a/a75/3a2" rel="tooltip" title="到领英找我" target="_blank">LinkedIn</a></li>
                            <li class="divider"></li>
                            <li class=""><a href="http://fooyou.github.io/atom.xml" rel="tooltip" title="RSS订阅" target="_blank">RSS</a></li>
                        </ul>
                    </li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="icon-list"></i> 项目 <b class="caret"></b></a>
                        <ul class="dropdown-menu">
                            <li class=""><a href="https://github.com/fooyou/notes" rel="tooltip" title="学习笔记" target="_blank">笔记</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
            -->
        </div>
    </div>
</div>
        <div class="container">
            <div class="marketing">
                <link rel="stylesheet" href="/css/pygments/trac.css">

<!-- 添加公式支持 -->


<div class="content">
    <script type="text/javascript">
	// //* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
	// var disqus_shortname = 'meshinestar'; // required: replace example with your forum shortname
	// var disqus_identifier = '/blog/SPARQL-1.1-Overview';
	// var disqus_url = 'http://fooyou.github.io/blog/SPARQL-1.1-Overview';
	// //* * * DON'T EDIT BELOW THIS LINE * * */
	// (function () {
	// 	var s = document.createElement('script'); s.async = true;
	// 	s.type = 'text/javascript';
	// 	s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
	// 	(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
	// }());
</script>

<div class="row">
    <div class="span12 column">
        <p><h1>SPARQL 1.1概述</h1></p>
    </div>
</div>
<div class="row">
    <div class="span12 column">
        <h5><strong>2014-09-30 <small>. Document . <a href="http://fooyou.github.io/blog/SPARQL-1.1-Overview#disqus_thread" data-disqus-identifier="/blog/SPARQL-1.1-Overview">评论</a></small></strong>
        <br/><small>标签:  <a href="/tags/Semantic-Web" title="按标签 &quot;Semantic-Web&quot;浏览"><u>Semantic-Web</u></a>     <a href="/tags/SPARQL" title="按标签 &quot;SPARQL&quot;浏览"><u>SPARQL</u></a>    </small><br/><br/>
    </div>
</div>
<div class="row">
    <div class="span6 column">
    </div>
    <div class="span3 column">
        <p class="pull-right"> <a href="/blog/Understand-SPARQL" title="上一篇: 理解 SPARQL"><i class="icon-chevron-left"></i></a> 	    	<a href="/blog/SPARQL-exercise" title="下一篇: SPARQL 练习"><i class="icon-chevron-right"></i></a> 	 </p>
    </div>
</div>
    <p><em>W3C推荐标准2013年3月21日</em></p>

<h2 id="摘要">摘要</h2>

<p>本文档是SPARQL 1.1的概览。它介绍了一套W3C的规范，以便于在Web或在RDF存储上查询和操作RDF图的内容。</p>

<h2 id="目录">目录</h2>

<ol>
<li>引言

<ul>
<li>1.1 示例</li>
</ul></li>
<li>SPARQL 1.1 查询语言</li>
<li>SPARQL 1.1 支持多种查询结果格式（XML、JSON、CSV、TSV）</li>
<li>SPARQL 1.1 联合查询</li>
<li>SPARQL 1.1 Entailment Regimes </li>
<li>SPARQL 1.1 更新语言</li>
<li>SPARQL 1.1 RDF协议</li>
<li>SPARQL 1.1 服务描述</li>
<li>SPARQL 1.1 图存储HTTP协议</li>
<li>致谢</li>
<li>参考文献</li>
</ol>

<h2 id="1-引言">1 引言</h2>

<hr>

<h3 id="1-1-示例">1.1 示例</h3>

<p>下面，我们将说明使用SPARQL的语言，协议和相关规范的小例子。</p>

<p>一些发布在URL为‘<a href="http://example.org/alice%E2%80%99%E7%9A%84%E7%BD%91%E7%AB%99%E4%B8%8A%E7%9A%84RDF%E5%9B%BE%EF%BC%8C%E5%8C%85%E5%90%AB%E4%BA%86Alice%E7%9A%84%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF%E5%92%8C%E5%A5%B9%E7%9A%84%E7%A4%BE%E4%BA%A4%E8%81%94%E7%B3%BB%E4%BA%BA%E3%80%82%E6%88%91%E4%BB%AC%E4%BD%BF%E7%94%A8Turtle%E8%AF%AD%E6%B3%95%E6%9D%A5%E8%AF%B4%E6%98%8E%E3%80%82">http://example.org/alice’的网站上的RDF图，包含了Alice的个人信息和她的社交联系人。我们使用Turtle语法来说明。</a></p>

<p><em>图：<a href="http://example.org/alice">http://example.org/alice</a></em></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .

&lt;http://example.org/alice#me&gt; a foaf:Person .
&lt;http://example.org/alice#me&gt; foaf:name &quot;Alice&quot; .
&lt;http://example.org/alice#me&gt; foaf:mbox &lt;mailto:alice@example.org&gt; .
&lt;http://example.org/alice#me&gt; foaf:knows &lt;http://example.org/bob#me&gt; .
&lt;http://example.org/bob#me&gt; foaf:knows &lt;http://example.org/alice#me&gt; .
&lt;http://example.org/bob#me&gt; foaf:name &quot;Bob&quot; .
&lt;http://example.org/alice#me&gt; foaf:knows &lt;http://example.org/charlie#me&gt; .
&lt;http://example.org/charlie#me&gt; foaf:knows &lt;http://example.org/alice#me&gt; .
&lt;http://example.org/charlie#me&gt; foaf:name &quot;Charlie&quot; .
&lt;http://example.org/alice#me&gt; foaf:knows &lt;http://example.org/snoopy&gt; .
&lt;http://example.org/snoopy&gt; foaf:name &quot;Snoopy&quot;@en .
</code></pre></div>
<p>使用SPARQL1.1可以查询这样的图，将它们加载到RDF stores中可以以不同的方式操作它们。</p>

<h2 id="2-sparql-1-1-查询语言">2 SPARQL 1.1 查询语言</h2>

<p>假定上述图数据被加载到了SPARQL服务中（比如：可以处理SPARQL查询的HTTP服务端点）SPARQL1.1可用于从简单图模式到复杂的制定查询。例如，可以通过SPARQL SELECT查询人的名字和他们的朋友：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
SELECT ?name (COUNT(?friend) AS ?count)
WHERE { 
    ?person foaf:name ?name . 
    ?person foaf:knows ?friend . 
} GROUP BY ?person ?name
</code></pre></div>
<p>和2008年的SPARQL 1.0一样，复杂查询可以包含<code>联合</code>、<code>选择性查询部分</code>和<code>过滤器</code>。在SPARQL1.1新增的功能有<code>value aggregation</code>，<code>路径表达式（path expression）</code>和<code>嵌套查询（nested queries）</code>等，同时1.1还支持ASK查询（返回yes/no）和CONSTRUCT查询（其结果可构建RDF图）所有1.1的新功能对这两个查询都可用。</p>

<p>相比1.0，1.1对查询语言增加了一些新功能，包括子查询、价值分配、路径表达式或聚合（aggregate）-比如上例中使用的COUNT。</p>

<h3 id="3-sparql-1-1-支持多种查询结果格式（xml、json、csv、tsv）">3 SPARQL 1.1 支持多种查询结果格式（XML、JSON、CSV、TSV）</h3>

<p>为支持搜索结果的机器读入，SPARQL支持4中常用格式XML（Extensible Markup Language）、JSON（JavaScript Object Notation）、CSV（Comma Separated Values）、TSV（Tab Separated Values），它们在以下文档中有详细描述：</p>

<ul>
<li><a href="http://www.w3.org/TR/rdf-sparql-XMLres/">SPARQL Query Results XML Format</a></li>
<li><a href="http://www.w3.org/TR/sparql11-results-json/">SPARQL 1.1 Query Results JSON Format</a></li>
<li><a href="http://www.w3.org/TR/sparql11-results-csv-tsv/">SPARQL 1.1 Query Results CSV and TSV Formats</a></li>
</ul>

<p>这些文档详细说明了这些方案和方案中的RDF词根是如何使用目标格式编码的。</p>

<p>上述示例的结果的4中形式：</p>

<p><strong>XML</strong></p>
<div class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="cp">&lt;?xml version=&quot;1.0&quot;?&gt;</span>
<span class="nt">&lt;sparql</span> <span class="na">xmlns=</span><span class="s">&quot;http://www.w3.org/2005/sparql-results#&quot;</span><span class="nt">&gt;</span>
 <span class="nt">&lt;head&gt;</span>
   <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">/&gt;</span>
   <span class="nt">&lt;variable</span> <span class="na">name=</span><span class="s">&quot;count&quot;</span><span class="nt">/&gt;</span>
 <span class="nt">&lt;/head&gt;</span>
 <span class="nt">&lt;results&gt;</span>
   <span class="nt">&lt;result&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal&gt;</span>Alice<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;count&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal</span> <span class="na">datatype=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span><span class="nt">&gt;</span>3<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
   <span class="nt">&lt;/result&gt;</span>
   <span class="nt">&lt;result&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal&gt;</span>Bob<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;count&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal</span> <span class="na">datatype=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
   <span class="nt">&lt;/result&gt;</span>
   <span class="nt">&lt;result&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;name&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal&gt;</span>Charlie<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
     <span class="nt">&lt;binding</span> <span class="na">name=</span><span class="s">&quot;count&quot;</span><span class="nt">&gt;</span>
       <span class="nt">&lt;literal</span> <span class="na">datatype=</span><span class="s">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span><span class="nt">&gt;</span>1<span class="nt">&lt;/literal&gt;</span>
     <span class="nt">&lt;/binding&gt;</span>
   <span class="nt">&lt;/result&gt;</span>
 <span class="nt">&lt;/results&gt;</span>
<span class="nt">&lt;/sparql&gt;</span>
</code></pre></div>
<p><strong>JSON</strong></p>
<div class="highlight"><pre><code class="language-json" data-lang="json"><span class="p">{</span>
  <span class="nt">&quot;head&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;vars&quot;</span><span class="p">:</span> <span class="p">[</span> <span class="s2">&quot;name&quot;</span> <span class="p">,</span> <span class="s2">&quot;count&quot;</span> <span class="p">]</span>
  <span class="p">}</span> <span class="p">,</span>
  <span class="nt">&quot;results&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="nt">&quot;bindings&quot;</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Alice&quot;</span> <span class="p">}</span> <span class="p">,</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span> <span class="p">,</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;typed-literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;3&quot;</span> <span class="p">}</span>
      <span class="p">}</span> <span class="p">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Bob&quot;</span> <span class="p">}</span> <span class="p">,</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span> <span class="p">,</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;typed-literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span> <span class="p">}</span>
      <span class="p">}</span> <span class="p">,</span>
      <span class="p">{</span>
        <span class="nt">&quot;name&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;Charlie&quot;</span> <span class="p">}</span> <span class="p">,</span>
        <span class="nt">&quot;count&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="nt">&quot;datatype&quot;</span><span class="p">:</span> <span class="s2">&quot;http://www.w3.org/2001/XMLSchema#integer&quot;</span> <span class="p">,</span> <span class="nt">&quot;type&quot;</span><span class="p">:</span> <span class="s2">&quot;typed-literal&quot;</span> <span class="p">,</span> <span class="nt">&quot;value&quot;</span><span class="p">:</span> <span class="s2">&quot;1&quot;</span> <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>
<p><strong>CSV</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">name,count
Alice,3
Bob,1
Charlie,1
</code></pre></div>
<p><strong>TSV</strong></p>
<div class="highlight"><pre><code class="language-text" data-lang="text">?name&lt;TAB&gt;?count
&quot;Alice&quot;&lt;TAB&gt;3
&quot;Bob&quot;&lt;TAB&gt;1
&quot;Charlie&quot;&lt;TAB&gt;1
</code></pre></div>
<p><em>（</em><em>注</em><em>：<Tab>是TAB字符的视觉表示）</em></p>

<h2 id="sparql-1-1联合查询（federated-query）">SPARQL 1.1联合查询（Federated Query）</h2>

<p>该文档介绍了一个基于SPARQL1.1查询语言的扩展来为不同SPARQL端点明确委托某些子查询。</p>

<p>举个例子，我们的示例中，有人或许想知道Alice的朋友中是否和DBPedia中用IRI <a href="http://dbpedia.org/resource/Snoopy">http://dbpedia.org/resource/Snoopy</a>标识的资源有相同名字的呢？通过把姓名查询和远程调用SPARQL端点 <a href="http://dbpedia.org/sparql%E7%BB%93%E5%90%88%E8%B5%B7%E6%9D%A5%E4%BD%BF%E7%94%A8%E5%85%B3%E9%94%AE%E8%AF%8D%60SERVICE%60%E6%9F%A5%E6%89%BE">http://dbpedia.org/sparql结合起来使用关键词`SERVICE`查找</a><a href="http://dbpedia.org/resource/Snoopy">http://dbpedia.org/resource/Snoopy</a> 的名字就可以做到了：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt;
SELECT ?name
WHERE {
    &lt;http://example.org/alice#me&gt; foaf:knows [ foaf:name ?name ] .
    SERVICE &lt;http://dbpedia.org/sparql&gt; { &lt;http://dbpedia.org/resource/Snoopy&gt; foaf:name ?name }
}
</code></pre></div>
<p>输出结果为：</p>

<table><thead>
<tr>
<th style="text-align: left">?name</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">&quot;Snoopy&quot;@en</td>
</tr>
</tbody></table>

<p>上述<code>WHERE</code>语句的第一句仍然匹配本地的SPARQL服务，接下来的<code>SERVICE</code>语句被代理到远程的SPARQL服务上。</p>

<hr>

<h2 id="5-sparql-1-1-entailment-regimes">5 SPARQL 1.1 Entailment Regimes</h2>

<p>SPARQL可以和形如RDF Schema或者OWL axiom的本体信息一起使用。例如，我们假设除了Alice的数据外，一些由RDF Schema和OWL构成的本体信息构建定义的FOAF词汇表加载到了我们的SPARQL服务里了，</p>

<p>该FOAF本体：（只给摘录）</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
@prefix rdfs: &lt;http://www.w3.org/2000/01/rdf-schema#&gt; .
...
foaf:name rdfs:subPropertyOf rdfs:label .
...
</code></pre></div>
<p>以下查询索要person的label：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">SELECT ?label
WHERE { ?person rdfs:label ?label }
</code></pre></div>
<p>SPARQL引擎不会考虑任何特定的蕴含制度（entailment regimes），对这类查询不返回任何结果，然而一个RDF Schema的引入查询引擎将返回：</p>

<table><thead>
<tr>
<th style="text-align: left">?label</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">&quot;Alice&quot;</td>
</tr>
<tr>
<td style="text-align: left">&quot;Bob&quot;</td>
</tr>
<tr>
<td style="text-align: left">&quot;Charlie&quot;</td>
</tr>
<tr>
<td style="text-align: left">&quot;Snoopy&quot;@en</td>
</tr>
</tbody></table>

<p><em>因为<code>foaf:name</code>是<code>rdfs:label</code>的一个子属性</em></p>

<p><a href="http://www.w3.org/TR/sparql11-entailment/">SPARQL 1.1 Entailment Regimes</a> 规范定义了，什么样的entailment regime返回什么样的结果，以及如何为RDF、RDF Schema、D-Entailment、OWL和RIF指定entailment regime。</p>

<hr>

<h2 id="6-sparql-1-1-更新语言">6 SPARQL 1.1 更新语言</h2>

<p><a href="http://www.w3.org/TR/sparql11-update/">SPARQL 1.1 更新</a>规范中定义了SPARQL1.1的更新请求语法和语义并提供了大量示例代码。更操作可以由一些连续请求组成，并在图存储中执行图集合。提供了在图存储中对RDF图进行更新、创建和移除的操作。</p>

<p>以下示例，可为Alice添加一个叫Dorothy的新朋友到默认的图中，然后通过一个英文tag删掉其他所有Alice朋友的名字：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">PREFIX foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .

INSERT DATA { &lt;http://www.example.org/alice#me&gt; foaf:knows [ foaf:name &quot;Dorothy&quot; ]. } ;
DELETE { ?person foaf:name ?mbox } 
WHERE { &lt;http://www.example.org/alice#me&gt; foaf:knows ?person .
        ?person foaf:name ?name FILTER ( lang(?name) = &quot;EN&quot; ) .}
</code></pre></div>
<p>第二个操作表明，插入和删除操作可以依赖于查询结果，WHERE部分的语法参考SPARQL 1.1 查询语言。</p>

<hr>

<h2 id="7-sparql-1-1-rdf协议">7 SPARQL 1.1 RDF协议</h2>

<p>SPARQL 1.1的RDF协议了如何通过HTTP在SPARQL服务上传递查询和更新请求。它也定义了如何映射请求到HTTP GET和POST操作，还有蛇这请求应返回什么样的HTTP响应。</p>

<p>例如，第3节讲的基于<a href="http://www.example.org/sparql/">http://www.example.org/sparql/</a>的SPARQL请求，根据这个规范，会发送如下HTTP GET请求：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET /sparql/?query=PREFIX%20foaf%3A%20%3Chttp%3A%2F%2Fxmlns.com%2Ffoaf%2F0.1%2F%3E%0ASELECT%20%3Fname%20%28COUNT%28%3Ffriend%29%20AS%20%3Fcount%29%0AWHERE%20%7B%20%0A%20%20%20%20%3Fperson%20foaf%3Aname%20%3Fname%20.%20%0A%20%20%20%20%3Fperson%20foaf%3Aknows%20%3Ffriend%20.%20%0A%7D%20GROUP%20BY%20%3Fperson%20%3Fname HTTP/1.1
Host: www.example.org
User-agent: my-sparql-client/0.1
</code></pre></div>
<p>关于HTTP response的编码和不同query和update请求操作以及所支持的HTTP方法，这些实现细节都在协议规范中有详细描述。</p>

<h2 id="8-sparql-1-1-service-description">8 SPARQL 1.1 Service Description</h2>

<p><a href="http://www.w3.org/TR/sparql11-service-description/">SPARQL 1.1服务描述</a>文档描述了一种用于发现的方法和通过SPARQL 1.1 RDF协议使其可见的用于描述SPAEQL服务的RDF词汇表。</p>

<p>根据此规范，服务端口，当通过HTTP GET操作（不使用query、update）时将返回一个服务提供的RDF描述，比如以下HTTP请求：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">GET /sparql/ HTTP/1.1
Host: www.example.org
</code></pre></div>
<p>使用服务描述词汇表对<a href="http://www.example.org/sparql/%E7%9A%84%E7%AB%AF%E7%82%B9%E5%8F%91%E5%87%BA%E7%9A%84%E8%AF%B7%E6%B1%82%E4%BC%9A%E8%BF%94%E5%9B%9E%E4%B8%80%E4%B8%AARDF%E6%8F%8F%E8%BF%B0%E3%80%82%E8%BF%99%E4%B8%AA%E6%8F%8F%E8%BF%B0%E6%8F%90%E4%BE%9B%EF%BC%8C">http://www.example.org/sparql/的端点发出的请求会返回一个RDF描述。这个描述提供，</a> 比如关于端点的默认dataset信息或者是SPARQL语言特性和其所支持的entailment regimes。</p>

<h2 id="9-sparql-1-1-图存储http协议">9 SPARQL 1.1 图存储HTTP协议</h2>

<p>对许多处理RDF数据的应用程序和服务来说，没有必要了解SPARQL 1.1的全部内容。之所以真么说是因为SPARQL 1.1的图存储协议提供了旨在直接通过HTTP操作对图集合进行管理的特定操作。</p>

<p>比如，第4节中的第1部分的更新操作，简单的把元祖插入RDF图中。在支持这个协议的服务上，这个插入操作可以直接通过HTTP POST操作把元祖作为payload替代：</p>
<div class="highlight"><pre><code class="language-text" data-lang="text">POST /rdf-graphs/service?graph=http%3A%2F%2Fwww.example.org%2Falice HTTP/1.1
Host: example.org
Content-Type: text/turtle
@prefix foaf: &lt;http://xmlns.com/foaf/0.1/&gt; .
&lt;http://www.example.org/alice#me&gt; foaf:knows [ foaf:name &quot;Dorothy&quot; ] .
</code></pre></div>
<p>其他直接通过HTTP操作进行修改（使用HTTP PUT替换整个图，或者HTTP DELETE 删除一个RDF图） 或者复取（通过HTTP GET）RDF图的操作在 <a href="http://www.w3.org/TR/sparql11-http-rdf-update/">SPARQL 1.1 图存储HTTP协议</a> 中有详细描述。这个规范可被看成是SPARQL 1.1 Query 和 Update 的轻量级合成。</p>

<h2 id="10-致谢">10 致谢</h2>

<p>The members of the W3C SPARQL Working group who actively contributed to the SPARQL 1.1 specifications are:</p>

<ul>
<li>Carlos Buil Aranda, Universidad Politécnica de Madrid</li>
<li>Olivier Corby, Institut National de Recherche en Informatique et en Automatique (INRIA)</li>
<li>Souripriya Das, Oracle Corporation</li>
<li>Lee Feigenbaum, Cambridge Semantics</li>
<li>Paul Gearon, Revelytix Inc</li>
<li>Birte Glimm, Universität Ulm</li>
<li>Steve Harris, Garlik Ltd</li>
<li>Sandro Hawke, W3C</li>
<li>Ivan Herman, W3C</li>
<li>Nicholas Humfrey, BBC</li>
<li>Nico Michaelis, Dreamlab Technologies AG</li>
<li>Chimezie Ogbuji, Invited Expert</li>
<li>Matthew Perry, Oracle Corporation</li>
<li>Alexandre Passant, DERI, National University of Ireland, Galway</li>
<li>Axel Polleres, Siemens AG</li>
<li>Eric Prud&#39;hommeaux, W3C</li>
<li>Andy Seaborne, The Apache Software Foundation</li>
<li>Gregory Todd Williams, Rensselaer Polytechnic Institute</li>
</ul>

<h2 id="11-参考">11 参考</h2>

<p><strong>SPARQL-XML-Result</strong></p>

<blockquote>
<p>SPARQL Query Results XML Format (Second Edition), D. Beckett, J. Broekstra, Editors, W3C Recommendation, 21 March 2013, <a href="http://www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321">http://www.w3.org/TR/2013/REC-rdf-sparql-XMLres-20130321</a>. Latest version available at <a href="http://www.w3.org/TR/rdf-sparql-XMLres">http://www.w3.org/TR/rdf-sparql-XMLres</a>. (See <a href="http://www.w3.org/TR/rdf-sparql-XMLres/.">http://www.w3.org/TR/rdf-sparql-XMLres/.</a>)</p>
</blockquote>

<p><strong>RDF-Schema</strong></p>

<blockquote>
<p>RDF Vocabulary Description Language 1.0: RDF Schema , ed. Dan Brickley and R.V. Guha, W3C Recommendation 10 February 2004 (See <a href="http://www.w3.org/TR/rdf-schema/.">http://www.w3.org/TR/rdf-schema/.</a>)</p>
</blockquote>

<p><strong>RDF-MT</strong></p>

<blockquote>
<p>RDF Semantics , ed. Pat Hayes, W3C Recommendation 10 February 2004 (See <a href="http://www.w3.org/TR/rdf-mt/.">http://www.w3.org/TR/rdf-mt/.</a>)</p>
</blockquote>

<p><strong>OWL2-Overview</strong></p>

<blockquote>
<p>OWL 2 Web Ontology Language Document Overview, W3C OWL Working Group, W3C Recommendation 27 October 2009 (See <a href="http://www.w3.org/TR/owl2-overview/.">http://www.w3.org/TR/owl2-overview/.</a>)</p>
</blockquote>

<p><strong>RIF-Overview</strong></p>

<blockquote>
<p>RIF Overview, ed. Michael Kifer and Harold Boley, W3C Working Group Note 22 June 2010 (See <a href="http://www.w3.org/TR/rif-overview/.">http://www.w3.org/TR/rif-overview/.</a>)</p>
</blockquote>

<p><strong>Turtle</strong></p>

<blockquote>
<p>Turtle - Terse RDF Triple Language, ed Eric Prud&#39;hommeaux and Gavin Carothers, Working Draft 09 August 2011. (See <a href="http://www.w3.org/TR/turtle/.">http://www.w3.org/TR/turtle/.</a>)</p>
</blockquote>

<p><strong>SPARQL10-Query</strong></p>

<blockquote>
<p>SPARQL Query Language for RDF, ed. Eric Prud&#39;hommeaux and Andy Seaborne, W3C Recommendation 15 January 2008 (See <a href="http://www.w3.org/TR/rdf-sparql-query/.">http://www.w3.org/TR/rdf-sparql-query/.</a>)</p>
</blockquote>

</div>

<div class="row">
    <div class="span6 column">
    </div>
    <div class="span3 column">
        <br>
        <p class="pull-right"> <a href="/blog/Understand-SPARQL" title="上一篇: 理解 SPARQL"><i class="icon-chevron-left"></i></a>          <a href="/blog/SPARQL-exercise" title="下一篇: SPARQL 练习"><i class="icon-chevron-right"></i></a>    </p>
    </div>
</div>


<div class="row">
    <div class="span12 columns">
        <h2>评论</h2>
        <p>欢迎回复，请保证一不跑题二要干净</p>
        <!-- 使用的是外国的disqus评论服务，国内有一个叫多说的评论服务也不错（http://duoshuo.com/） -->
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            //* * * CONFIGURATION VARIABLES * * */
            var disqus_shortname = 'meshinestar';
            
            //* * * DON'T EDIT BELOW THIS LINE * * */
            (function() {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
    </div>
</div>


            </div>
        </div>
        <footer class="footer">
  <div class="container">
	<p class="pull-right"> <a href="/blog/Understand-SPARQL" title="Previous Post: 理解 SPARQL">&laquo; 上一篇</a> 	  |  <a href="#">回到顶</a>  |   	<a href="/blog/SPARQL-exercise" title="Next Post: SPARQL 练习">下一篇 &raquo; </a> 	 </p>        
	<p>页面最后生成于 2015-09-09</p>
	<p>如果需要, <a href="mailto:liuchaozhenyu@gmail.com" title="邮件联系我"  target="_blank" >邮件联系我</a>.</p>

    <!-- Twitter No need to open this code -->
<!--     <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script> -->

    <!-- Google + -->
<!--     <script type="text/javascript">
      (function() {
        var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
        po.src = 'https://apis.google.com/js/plusone.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
      })();
    </script> -->

  </div>
</footer>

        

        <script type="text/javascript">
            // //* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            // var disqus_shortname = 'meshinestar'; // required: replace example with your forum shortname
            // //* * * DON'T EDIT BELOW THIS LINE * * */
            // (function () {
            //     var s = document.createElement('script'); s.async = true;
            //     s.type = 'text/javascript';
            //     s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
            //     (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
            // }());
        </script>

        <!-- Google Analytics -->
        <!--    <script type="text/javascript">
        var _gaq = _gaq || [];
        _gaq.push(['_setAccount', 'UA-29830549-1']);
        _gaq.push(['_trackPageview']);
        (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
        })();
        </script>    -->
    </body>
</html>